{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-form');\n\nexport function getDataApi() {\n  return new Promise((resolve, reject) => {\n    const formValue = form.inputForm.value.trim();\n    if (formValue !== '') {\n      const searchWord = formValue;\n      const ref = `https://pixabay.com/api/?key=42472719-86e9d77d864a652d5db1b513d&q=${searchWord}&image_type=photo&orientation=horizontal&safesearch=true`;\n      fetch(ref)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(`status of error${response.status}`);\n          }\n          return response.json();\n        })\n        .then(({ hits }) => {\n          if (hits.length === 0) {\n            iziToast.error({\n              title: 'Error',\n              message:\n                'Sorry, there are no images matching your search query. Please try again!',\n            });\n          }\n          resolve(hits);\n        })\n        .catch(error => {\n          reject(error);\n        });\n      form.reset();\n      return;\n    }\n    iziToast.error({\n      title: 'Error',\n      message: 'field cannot be empty',\n    });\n  });\n}\n","// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst loader = document.querySelector('.loader');\n\nexport function createMarkup(promise) {\n  const gallery = document.querySelector('.gallery');\n  promise.then(images => {\n    loader.style.display = 'none';\n    const markup = images\n      .map(\n        img => `<li class=\"gallery-item\">\n    \t<a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n    \t\t<img\n    \t\t\tclass=\"gallery-image\"\n    \t\t\tsrc=\"${img.webformatURL}\"\n    \t\t\talt=\"${img.tags}\"\n    \t\t\t/>\n    \t</a>\n        <div class=\"stats-box\">\n      <ul class=\"img-stats\">\n         <li>\n            <p>Likes</p>\n            <p>${img.likes}</p>\n          </li>\n          <li>\n            <p>Views</p>\n            <p>${img.views}</p>\n          </li>\n          <li>\n            <p>Comments</p>\n            <p>${img.comments}</p>\n          </li>\n          <li>\n            <p>Downloads</p>\n            <p>${img.downloads}</p>\n          </li>\n      </ul>\n    </div>\n    </li>\n    `\n      )\n      .join('');\n    gallery.innerHTML = markup;\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n    });\n    lightbox.refresh();\n  });\n}\n","import { getDataApi } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nform.addEventListener('submit', onSubmit);\nfunction onSubmit(event) {\n  event.preventDefault();\n  document.querySelector('.gallery').innerHTML = '';\n  if (form.inputForm.value !== '') {\n    loader.style.display = 'block';\n  }\n  createMarkup(getDataApi());\n}\n"],"names":["form","getDataApi","resolve","reject","formValue","ref","response","hits","iziToast","error","loader","createMarkup","promise","gallery","images","markup","img","SimpleLightbox","onSubmit","event"],"mappings":"6vBAGA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAE3C,SAASC,GAAa,CAC3B,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,MAAMC,EAAYJ,EAAK,UAAU,MAAM,KAAI,EAC3C,GAAII,IAAc,GAAI,CAEpB,MAAMC,EAAM,qEADOD,CACwE,2DAC3F,MAAMC,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,kBAAkBA,EAAS,MAAM,EAAE,EAErD,OAAOA,EAAS,MAC1B,CAAS,EACA,KAAK,CAAC,CAAE,KAAAC,KAAW,CACdA,EAAK,SAAW,GAClBC,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EAChB,CAAa,EAEHN,EAAQK,CAAI,CACtB,CAAS,EACA,MAAME,GAAS,CACdN,EAAOM,CAAK,CACtB,CAAS,EACHT,EAAK,MAAK,EACV,MACD,CACDQ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,uBACf,CAAK,CACL,CAAG,CACH,CCnCA,MAAME,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAaC,EAAS,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDD,EAAQ,KAAKE,GAAU,CACrBJ,EAAO,MAAM,QAAU,OACvB,MAAMK,EAASD,EACZ,IACCE,GAAO;AAAA,qCACsBA,EAAI,aAAa;AAAA;AAAA;AAAA,cAGxCA,EAAI,YAAY;AAAA,cAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAOLA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,iBAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,iBAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAMvB,EACA,KAAK,EAAE,EACVH,EAAQ,UAAYE,EACH,IAAIE,EAAe,aAAc,CAChD,aAAc,KACpB,CAAK,EACQ,QAAO,CACpB,CAAG,CACH,CC/CA,MAAMjB,EAAO,SAAS,cAAc,cAAc,EAC5CU,EAAS,SAAS,cAAc,SAAS,EAC/CV,EAAK,iBAAiB,SAAUkB,CAAQ,EACxC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,SAAS,cAAc,UAAU,EAAE,UAAY,GAC3CnB,EAAK,UAAU,QAAU,KAC3BU,EAAO,MAAM,QAAU,SAEzBC,EAAaV,EAAU,CAAE,CAC3B"}